/* CONTENEDOR PRINCIPAL */
.messenger {
  height: calc(100vh - 70px);
  display: flex;
  background-color: #000000; /* Fondo NEGRO total tipo Instagram */
  color: #e0e0e0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* --- MENÚ IZQUIERDO (LISTA DE CHATS) --- */
.chatMenu {
  flex: 3.5;
  border-right: 1px solid #262626; /* Borde muy sutil */
  background-color: #000000;
  overflow-y: scroll;
}

.chatMenuWrapper {
  padding-top: 10px;
}

.chat-search-input {
  width: 90%;
  padding: 10px 15px;
  background-color: #262626;
  border: none;
  border-radius: 10px;
  color: white;
  outline: none;
  margin: 0 auto;
  display: block;
}

.conversation {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  cursor: pointer;
  transition: background-color 0.1s;
}

.conversation:hover {
  background-color: #121212;
}

.conversation.active {
  background-color: #262626; /* Chat seleccionado */
}

.conversationImg {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 15px;
}

.conversationName {
  font-weight: 400;
  color: #ffffff;
  font-size: 15px;
}

/* --- CAJA DE CHAT (DERECHA) --- */
.chatBox {
  flex: 8.5;
  background-color: #000000;
  position: relative;
  display: flex;
  flex-direction: column;
}

.chatBoxWrapper {
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* CABECERA LIMPIA */
.chatHeader {
  padding: 0 20px;
  border-bottom: 1px solid #262626;
  background-color: #000000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 70px;
}

.headerImg {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 12px;
}

.headerName {
  font-weight: 600;
  font-size: 16px;
  color: white;
}

.chat-back-btn {
  background: transparent;
  border: none;
  color: #0095f6; /* Azul Instagram */
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}

/* ÁREA DE MENSAJES */
.chatBoxTop {
  flex: 1;
  overflow-y: scroll;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 10px; /* Espacio entre mensajes */
}

.message {
  display: flex;
  flex-direction: column;
  max-width: 70%; /* Los mensajes no ocupan todo el ancho */
}

/* ALINEACIÓN */
/* Mensajes recibidos (Amigo) -> Izquierda */
.message { align-self: flex-start; }

/* Mensajes enviados (Míos) -> Derecha */
.message.own { align-items: flex-end; align-self: flex-end; }

.messageTop {
  display: flex;
  align-items: flex-end; /* Foto abajo del texto */
  gap: 8px;
}

/* FOTO MINIATURA EN EL MENSAJE RECIBIDO */
.message-avatar-small {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 5px; /* Alineado abajo */
}

/* BURBUJA DE MENSAJE RECIBIDO (GRIS) */
.messageText {
  padding: 12px 16px;
  border-radius: 22px; /* Muy redondo */
  background-color: #262626;
  color: white;
  font-size: 15px;
  line-height: 1.4;
  border: 1px solid #262626;
}

/* BURBUJA DE MENSAJE PROPIO (DEGRADADO INSTAGRAM) */
.message.own .messageText {
  background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); /* El famoso degradado */
  /* O opción más sutil (Azul/Morado): background: linear-gradient(to right, #3797f0, #6c3ce4); */
  color: white;
  border: none;
}

.messageBottom {
  font-size: 10px;
  color: #777;
  margin-top: 2px;
  margin-left: 35px; /* Para que se alinee con el texto, no la foto */
}
.message.own .messageBottom { margin-right: 10px; margin-left: 0; }

/* IMÁGENES EN CHAT */
.message-sent-img {
  border-radius: 20px;
  max-width: 250px;
  border: 1px solid #333;
}

/* RESPUESTA A HISTORIA */
.story-reply-bubble {
  background-color: #262626;
  padding: 8px;
  border-radius: 15px;
  margin-bottom: 5px;
  display: flex;
  gap: 10px;
  align-items: center;
  color: #a0a0a0;
  font-size: 12px;
}
.story-reply-bubble img { width: 40px; height: 60px; object-fit: cover; border-radius: 5px; }

/* --- ÁREA DE INPUT (PÍLDORA) --- */
.chatBoxBottom {
  padding: 15px 20px;
  display: flex;
  align-items: center;
  background-color: #000000;
}

.input-pill-container {
  flex: 1;
  background-color: #262626;
  border-radius: 25px; /* Forma de píldora */
  display: flex;
  align-items: center;
  padding: 5px 15px;
  border: 1px solid #363636;
}

.chatMessageInput {
  flex: 1;
  height: 40px;
  background: transparent;
  border: none;
  color: white;
  resize: none;
  outline: none;
  padding-top: 10px; /* Centrar texto */
  font-size: 15px;
}

/* BOTONES ÍCONOS (Emoji, Imagen) */
.chat-icon-btn {
  font-size: 20px;
  cursor: pointer;
  color: #e0e0e0;
  padding: 5px;
  transition: transform 0.1s;
}
.chat-icon-btn:hover { transform: scale(1.1); }

/* BOTÓN ENVIAR (Texto en lugar de flecha) */
.chatSubmitButton {
  background: transparent;
  border: none;
  color: #0095f6; /* Azul Instagram */
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  margin-left: 10px;
}
.chatSubmitButton:hover { color: #e0e0e0; }

/* EMOJI PICKER */
.emoji-picker-container { position: absolute; bottom: 70px; left: 20px; z-index: 100; }

.noConversationState { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; color: #e0e0e0; }
.noConversationText { font-size: 20px; margin-bottom: 10px; font-weight: 300; }