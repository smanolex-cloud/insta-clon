/* CONTENEDOR PRINCIPAL */
.messenger { height: 100vh; display: flex; background-color: #000000; color: #e0e0e0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; overflow: hidden; }

/* LISTA DE CHATS */
.chatMenu { flex: 3.5; border-right: 1px solid #262626; background-color: #000000; overflow-y: auto; }
.chatMenuWrapper { height: 100%; display: flex; flex-direction: column; }
.chatMenuHeader { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid #262626; height: 50px; }
.menu-back-btn { background: none; border: none; color: #e0e0e0; font-size: 14px; cursor: pointer; }

.chat-search-input { width: 90%; padding: 8px 15px; background-color: #262626; border: none; border-radius: 10px; color: white; outline: none; margin: 0 auto; display: block; }
.conversation { display: flex; align-items: center; padding: 15px 20px; cursor: pointer; transition: background-color 0.1s; }
.conversation:hover { background-color: #121212; }
.conversation.active { background-color: #262626; }
.conversationImg { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px; }
.conversationName { font-weight: 400; color: #ffffff; font-size: 15px; }

/* CAJA DE CHAT */
.chatBox { flex: 8.5; background-color: #000000; position: relative; display: flex; flex-direction: column; }
.chatBoxWrapper { display: flex; flex-direction: column; height: 100%; }
.chatHeader { padding: 0 15px; border-bottom: 1px solid #262626; background-color: #000000; display: flex; align-items: center; justify-content: space-between; height: 60px; flex-shrink: 0; }
.headerImg { width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 12px; }
.headerName { font-weight: 600; font-size: 16px; color: white; }
.chat-info-btn { background: none; border: none; font-size: 20px; cursor: pointer; }

/* BOTÓN ATRÁS (SOLO MÓVIL) */
.mobile-back-arrow { display: none; background: none; border: none; color: white; font-size: 24px; margin-right: 10px; cursor: pointer; }

.chatBoxTop { flex: 1; overflow-y: scroll; padding: 20px; display: flex; flex-direction: column; gap: 2px; }
.message { display: flex; flex-direction: column; max-width: 70%; align-self: flex-start; margin-top: 5px; }
.message.own { align-items: flex-end; align-self: flex-end; }
.messageTop { display: flex; align-items: flex-end; gap: 8px; }
.messageText { padding: 10px 14px; border-radius: 22px; background-color: #262626; color: white; font-size: 15px; line-height: 1.4; border: 1px solid #262626; }
.message.own .messageText { background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); color: white; border: none; }
.messageBottom { font-size: 10px; color: #777; margin-top: 2px; margin-left: 10px; }
.message.own .messageBottom { margin-right: 10px; margin-left: 0; }
.message-sent-img { border-radius: 20px; max-width: 200px; border: 1px solid #333; margin-bottom: 5px; }
.story-reply-bubble { background-color: #262626; padding: 8px; border-radius: 15px; margin-bottom: 5px; display: flex; gap: 10px; align-items: center; color: #a0a0a0; font-size: 12px; }
.story-reply-bubble img { width: 40px; height: 60px; object-fit: cover; border-radius: 5px; }

/* INPUT */
.chatBoxBottom { padding: 10px 15px; display: flex; align-items: center; background-color: #000000; flex-shrink: 0; }
.input-pill-container { flex: 1; background-color: #262626; border-radius: 25px; display: flex; align-items: center; padding: 5px 15px; border: 1px solid #363636; }
.chatMessageInput { flex: 1; height: 40px; background: transparent; border: none; color: white; resize: none; outline: none; padding-top: 10px; font-size: 15px; }
.chat-icon-btn { font-size: 20px; cursor: pointer; color: #e0e0e0; padding: 5px; margin-left: 5px; }
.chatSubmitButton { background: transparent; border: none; color: #0095f6; font-weight: 600; font-size: 15px; cursor: pointer; margin-left: 10px; }
.emoji-picker-container { position: absolute; bottom: 70px; left: 20px; z-index: 100; }

/* ESTADO VACÍO */
.noConversationState { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; color: #e0e0e0; }
.noConversationText { font-size: 20px; margin-bottom: 10px; }
.send-msg-btn { background-color: #0095f6; color: white; border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; }
.back-btn { display: none; } /* Ya no usamos el botón flotante viejo */

/* =========================================
   MODO MÓVIL (RESPONSIVE CHAT)
   ========================================= */
@media (max-width: 768px) {
  .messenger { height: 100vh; position: relative; }
  
  /* POR DEFECTO (LISTA MODO): Ocultar Chat, Mostrar Menu */
  .messenger.list-mode .chatMenu { display: block; width: 100%; flex: 1; }
  .messenger.list-mode .chatBox { display: none; }

  /* MODO CHAT ABIERTO: Ocultar Menu, Mostrar Chat */
  .messenger.chat-mode .chatMenu { display: none; }
  .messenger.chat-mode .chatBox { display: flex; width: 100%; flex: 1; height: 100vh; }

  /* Ajustes visuales móvil */
  .mobile-back-arrow { display: block; } /* Mostrar flecha atrás */
  .chatHeader { height: 50px; padding: 0 10px; }
  .chatBoxBottom { padding: 10px; }
  .input-pill-container { padding: 5px 10px; }
  .chatMenuWrapper { padding: 0; }
}